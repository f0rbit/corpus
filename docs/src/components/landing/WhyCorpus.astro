---
import Section from "./Section.astro";

const reasons = [
  {
    title: "Errors as Values",
    description:
      "No thrown exceptions. Every operation returns a Result<T, CorpusError> that you can pattern match on. Predictable, type-safe error handling.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"/><path d="m9 12 2 2 4-4"/></svg>`,
  },
  {
    title: "Functional Composition",
    description:
      "Builder pattern for setup, pure functions for operations. No hidden state, no surprises. Compose backends, stores, and observations.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect width="7" height="7" x="3" y="3" rx="1"/><rect width="7" height="7" x="14" y="3" rx="1"/><rect width="7" height="7" x="14" y="14" rx="1"/><rect width="7" height="7" x="3" y="14" rx="1"/></svg>`,
  },
  {
    title: "Local-First Ready",
    description:
      "Start with memory backend for development, file for persistence, Cloudflare for production. Same API everywhere.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="12" x="3" y="4" rx="2" ry="2"/><line x1="2" x2="22" y1="20" y2="20"/></svg>`,
  },
  {
    title: "Pluggable Backends",
    description:
      "Memory for testing, filesystem for local dev, Cloudflare for production. Combine them with the layered backend for caching and replication.",
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22v-5"/><path d="M9 8V2"/><path d="M15 8V2"/><path d="M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z"/></svg>`,
  },
];
---

<Section title="Why Corpus?" bordered>
  <div class="reason-grid">
    {reasons.map((reason) => (
      <div class="card card-flat">
        <div class="row">
          <div class="card-icon" set:html={reason.icon} />
          <h3 class="card-title">{reason.title}</h3>
        </div>
        <p class="card-description">{reason.description}</p>
      </div>
    ))}
  </div>
</Section>

<style>
  .reason-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-md);
  }

  .card-icon {
    margin-bottom: var(--space-sm);
  }

  .card-title {
    margin-bottom: var(--space-xs);
  }

  @media (max-width: 600px) {
    .reason-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
